function n(){return n=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(n[o]=t[o])}return n},n.apply(this,arguments)}var e={};function t(n){return Array.prototype.slice.call(n)}function o(){return t(document.body.querySelectorAll(".hl-map")).map(function(n){var e,o,r,i=n.dataset,a={hlRender:null!=(e=i.hlRender)?e:"",hlCenter:null!=(o=i.hlCenter)?o:"[0,0]",hlZoom:null!=(r=i.hlZoom)?r:"10",markers:[]};return t(n.querySelectorAll(".hl-marker")).forEach(function(n){var e=n.dataset;a.markers.push({hlCenter:e.hlCenter,hlPopup:e.hlPopup})}),{config:a,configElement:n,renderElement:document.querySelector(a.hlRender)}})}function r(n){var e,t=n.map;if(void 0!==t){var o=n.config.hlZoom;t.setView(JSON.parse(n.config.hlCenter),parseInt(o)),(null==(e=t.options.layers)?void 0:e.find(function(n){return"© OpenStreetMap contributors"===n.options.attribution}))||L.tileLayer("https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",{attribution:"© OpenStreetMap contributors"}).addTo(t),t.eachLayer(function(n){n instanceof L.Marker&&n.removeFrom(t)}),n.config.markers.forEach(function(e){var o,r,i=null!=(o=e.hlCenter)?o:n.config.hlCenter,a=null!=(r=e.hlPopup)?r:"",l=L.marker(JSON.parse(i));l.setIcon(L.icon({iconUrl:"https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.9.4/images/marker-icon.png",iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34]})),""!==a&&l.bindPopup(a),l.addTo(t)})}}window.addEventListener("load",function(){o().forEach(function(t){var o=t.configElement,i=t.renderElement,a=t.config;if(null!==i){var l=L.map(i);t.map=l,r(t),e[o.id]=n({},t,{configString:JSON.stringify(a)}),l.on("moveend",function(){var n=l.getCenter(),e=l.getZoom(),t=new CustomEvent("hl-leaflet-moveend",{detail:{center:[n.lat,n.lng],zoom:e}});i.dispatchEvent(t)}),l.on("popupopen",function(n){var e=new CustomEvent("hl-leaflet-popupopen",{detail:{popup:n.popup.getElement()}});i.dispatchEvent(e)})}}),new MutationObserver(function(){o().forEach(function(n){var t=e[n.configElement.id];if(void 0!==t&&void 0!==t.map){var o=JSON.stringify(n.config);o!=t.configString&&(t.config=n.config,t.configString=o,r(t))}})}).observe(document.body,{childList:!0,subtree:!0})});
//# sourceMappingURL=hl-leaflet.js.map
